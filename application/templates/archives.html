{% extends "layout.html" %}
{% block content %}
<section style="padding-top:105px">

    <h2>Search By Topic</h2>
    <div class="form-container">
        <form name="archive_search_form" id="archive_search_form" action="{{url_for('archives')}}" method="POST">
                <select name="topic_keyword" id="topic_list" onchange="this.form.submit()">
                    {% for topic in distinct_topic_list %}
                    <option value = {{topic}}>{{topic}}</option>
                    {%endfor%}
                </select>
                <!-- <input type="submit" id="userInput" name="topic_keyword"/> -->
                <!-- <input type="text" id="userInput" name="topic_keyword" onkeyup="filterTopics()"/> -->
                <!-- <ul id="topic_list">
                    {% for topic in distinct_topic_list %}
                    <li><a href='#'>{{topic}}</a></li>
                    {%endfor%}
                </ul> -->
            <!-- <input type="submit" value="Submit"/> -->
        </form>
    </div>
    {% for featured_resource in featured_resources %}
    <section class="featured">
        <div class="featured--card">
            <div class="card">
                <div class="card__image-container">
                    <img src={{featured_resource['resource_image_url']}}>
                </div>
                <div class="card__content">
                    <p class="card__title text--medium">
                        {{featured_resource['resource_title']}} <br>Released: {{featured_resource['publish_date']}}<br>
                    </p>
                    <div class="card__info">
                        <video controls="" preload="none" controlslist="nodownload">
                            <source src={{featured_resource['podcast_episode_player_url']}} type="audio/mpeg">
                        </video>
                    </div>
                </div>
            </div>
        </div>
        <div class="featured--text">
            <p>{{featured_resource['description']}}
                <br/>
                <br>Topics: {{featured_resource['topics']}}<br>
            </p>
        </div>
    </section>

    {%endfor%}
    
</section>

<!-- Reference: https://www.w3schools.com/howto/howto_js_filter_lists.asp -->

<!-- <script>
    function filterTopics() {
      // Declare variables
      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById('userInput');
      filter = input.value.toLowerCase();
      ul = document.getElementById("topic_list");
      li = ul.getElementsByTagName('li');
    
      // Loop through all topics, and hide those who don't match the search query
      for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.indexOf(filter) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }
      }
    }
</script> -->

{% endblock %}

