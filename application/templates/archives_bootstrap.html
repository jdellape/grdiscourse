{% extends "layout_bootstrap.html" %}
{% block content %}

<!-- Section to filter content -->
<div class="container text-white">
    <div class="row justify-content-center align-items-center">
        <form name="archive_search_form" id="archive_search_form" action="{{url_for('archives_bootstrap')}}" method="POST">
            <div class="form-group">
                <label class="d-flex justify-content-center align-items-center mb-0">Select Topics to Filter By</label><br>
                {% for topic in distinct_topic_list %}
                <div class="form-check-inline">
                    <ul class="ks-cboxtags ml-1 p-0">
                        <!-- <li><input type="checkbox" id="checkboxOne" value="Rainbow Dash"><label for="checkboxOne">Rainbow Dash</label></li> -->
                        <li>
                                <!-- Persist checkboxes selected by user -->
                                {% if topic in filters_checked %}
                                <input type="checkbox" id="checkbox_{{topic}}" name="check" value={{topic}} checked><label for="checkbox_{{topic}}">{{topic}}</label>
                                {% else %}
                                <input type="checkbox" id="checkbox_{{topic}}" name="check" value={{topic}}><label for="checkbox_{{topic}}">{{topic}}</label>
                                {% endif %}
                        </li>
                    </ul>
                </div><!-- form-checkbox container -->
                {%endfor%}
            </div><!-- form-group -->
            <div class="form-group d-flex justify-content-center align-items-center">
                <button class="btn btn-primary" type="submit" value="Apply fitlers value">Apply Filter</button>
                <button class="btn btn-seconday" type="submit" name="clearFilters" value="clearClicked">Clear Filters</button>
            </div>
        </form>
    </div>
</div>

<!-- Show content which has been featured -->
<div class="container mt-3">
    {% for featured_resource in featured_resources %}
    <div class="card mt-4">
        <div class="row">
            <div class="col-md-2 d-flex align-items-center justify-content-center">
                <img src={{featured_resource['resource_image_url']}} class="img-fluid">
            </div>
            <div class="col-md-10">
                <h3 class="card-title mt-2">{{featured_resource['resource_title']}} </h3>
                <p class="card-text">{{featured_resource['description']}}</p>
                <p class="card-text">Topic(s): {{featured_resource['topics']}}</p>
                <p class="card-text">Released: {{featured_resource['publish_date']}}</p>
                <audio class="img-fluid justify-content-center" controls preload="none" controlsList="nodownload">
                    <source src={{featured_resource['podcast_episode_player_url']}} type="audio/mpeg">
                </audio>
                <div class="list-group mb-3">
                    <a class="list-group-item list-group-item-action" href={{featured_resource['apple_podcasts_url']}} target="_blank">LAUNCH IN APPLE PODCASTS</a>
                    <a class="list-group-item list-group-item-action" href="#">LAUNCH IN SPOTIFY</a>
                </div>
            </div>
        </div> <!-- row Div -->
    </div> <!-- Card Div -->
    {%endfor%}
</div>

{% endblock %}