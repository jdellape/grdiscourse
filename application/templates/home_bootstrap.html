{% extends "layout_bootstrap.html" %}
{% block content %}

<div class="container mt-2 mb-2">
    <h2 class="text-white text-center"><u>Featured&nbsp;Episode</u></h2>
</div>

<!-- Show Currently Featured Content -->
<div class="container mt-3">
    <div class="card mt-4 bg-dark text-white">
        <div class="row">
            <div class="col-md-2 d-flex align-items-center justify-content-center">
                <img src={{featured_resource['resource_image_url']}} class="img-fluid">
            </div>
            <div class="col-md-10">
                <h3 class="card-title mt-2">{{featured_resource['resource_title']}} </h3>
                <p class="card-text">Topic(s): {{featured_resource['topics']}}</p>
                <p class="card-text">Released: {{featured_resource['publish_date']}}</p>
                <!--Add bootstrap accordion functionality for description-->

                <div class="accordion" id="description-accordion">
                    <!-- Embedded card to support accordion for EPISODE description -->
                    <div class="card">
                        <div class="card-header" id="episode-description-heading">
                          <h6 class="mb-0">
                            <a href="#episode-description"
                              data-toggle="collapse"
                              aria-expanded="true"
                              aria-controls="episode-description"
                            >VIEW EPISODE DESCRIPTION</a>
                          </h6>
                        </div><!-- card header -->
                        <div id="episode-description"
                        class="collapse"
                        data-parent="#description-accordion"
                        aria-labelledby="episode-description-heading"
                        >
                        <div class="card-body">
                          <p class="text-dark">{{featured_resource['description']}}</p>
                        </div>
                      </div><!-- collapse -->
                    </div><!-- card --> 

                    <!-- Embedded card to support accordion for PODCAST description -->
                    <div class="card">
                        <div class="card-header" id="podcast-description-heading">
                          <h6 class="mb-0">
                            <a href="#podcast-description"
                              data-toggle="collapse"
                              aria-expanded="true"
                              aria-controls="podcast-description"
                            >VIEW PODCAST DESCRIPTION</a>
                          </h6>
                        </div><!-- card header -->
                        <div id="podcast-description"
                        class="collapse"
                        data-parent="#description-accordion"
                        aria-labelledby="podcast-description-heading"
                        >
                        <div class="card-body">
                          <p class="text-dark">Join VeggieTales and What’s in the Bible? creator Phil Vischer and co-host Skye Jethani
                            (author, senior editor Christianity Today’s Leadership Journal) for a fast-paced and often
                            funny conversation about pop culture, media, theology and the fun, fun, fun of living a
                            thoughtful Christian life in an increasingly post-Christian culture.</p>
                        </div>
                      </div><!-- collapse -->
                    </div><!-- card --> 

                </div> <!-- accordion Div -->
                
                <audio class="img-fluid justify-content-center" controls preload="none" controlsList="nodownload">
                    <source src={{featured_resource['podcast_episode_player_url']}} type="audio/mpeg">
                </audio>
                <div class="list-group mb-3">
                    <a class="list-group-item list-group-item-action" href={{featured_resource['apple_podcasts_url']}} target="_blank">LAUNCH IN APPLE PODCASTS</a>
                    <a class="list-group-item list-group-item-action" href="https://open.spotify.com/episode/3RObqNERNMtKK9OpxYxs5d?si=gWQjv8vFQ5itV9DmhLoMLg" target="_blank">LAUNCH IN SPOTIFY</a>
                </div>
            </div>
        </div> <!-- row Div -->
    </div> <!-- Card Div -->
</div>

<!-- List Recent Episodes -->
<div class="container mt-2 mb-2">
    <h2 class="text-white text-center"><u>Most&nbsp;Recent&nbsp;Episodes</u></h2>
</div>


<div class="container">
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 d-flex">
        {% for episode in podcast_episodes %}
        <div class="col d-flex">
            <section class="card mb-5 bg-dark text-white">
            <img class="card-img-top" src={{episode.artwork}} >
            <div class="card-body">
                <h3 class="card-title">{{episode.episode_name}} </h2>
                <h5 class="card-subtitle">Released: {{episode.release_date}}</h5>
                <div class="accordion" id="description-accordion{{episode.podcast_number}}">
                    <!-- Embedded card to support accordion for EPISODE description -->
                    <div class="card mt-2">
                        <div class="card-header" id="description-heading{{episode.podcast_number}}">
                          <h6 class="mb-0">
                            <a href="#description{{episode.podcast_number}}"
                              data-toggle="collapse"
                              aria-expanded="true"
                              aria-controls="description{{episode.podcast_number}}"
                            >VIEW EPISODE DESCRIPTION</a>
                          </h6>
                        </div><!-- card header -->
                        <div id="description{{episode.podcast_number}}"
                        class="collapse"
                        data-parent="#description-accordion{{episode.podcast_number}}"
                        aria-labelledby="description-heading{{episode.podcast_number}}"
                        >
                        <div class="card-body">
                          <p class="text-dark">{{episode.short_description}}</p>
                        </div>
                      </div><!-- collapse -->
                    </div><!-- card --> 
                </div> <!--accordion-->
            </div><!-- card body --> 
            <audio class="img-fluid" controls preload="none" controlsList="nodownload">
                <source src="{{episode.episode_player_url}}" type="audio/mpeg">
            </audio>
            </section><!-- card -->
        </div><!-- column -->
        {%endfor%} 
    </div><!-- row div -->

</div> <!-- content container -->
{% endblock %}